From b6e7152b9ddea4fd886be932c3fb3a0b490d5374 Mon Sep 17 00:00:00 2001
From: Dave Kover <dkover@cyngn.com>
Date: Thu, 14 Apr 2016 10:19:13 +0700
Subject: [PATCH 19/26] Allow Navbar ripple color to be themed

PS1:
Layers Commit by @setiawanjimmy
Rewrite of commit by: KreAch3R
Original commit by: Dave Kover
Distilled from: https://github.com/CyanogenMod/android_frameworks_base/commit/05ce0a6f5651743add398556d557a5f4c40c2503

Change-Id: I7969e952d7e08f1d12e89291512312421585b70f
---
 packages/SystemUI/res/values/du_colors.xml                           | 3 +++
 .../src/com/android/systemui/statusbar/policy/KeyButtonRipple.java   | 5 ++++-
 2 files changed, 7 insertions(+), 1 deletion(-)

diff --git a/packages/SystemUI/res/values/du_colors.xml b/packages/SystemUI/res/values/du_colors.xml
index 2d99347..2017342 100644
--- a/packages/SystemUI/res/values/du_colors.xml
+++ b/packages/SystemUI/res/values/du_colors.xml
@@ -25,4 +25,7 @@
 
     <color name="system_primary_color">@*android:color/material_blue_grey_900</color>
 
+    <!-- Navigation button ripple color -->
+    <color name="navbutton_ripple_color">#FFFFFFFF</color>
+
 </resources>
diff --git a/packages/SystemUI/src/com/android/systemui/statusbar/policy/KeyButtonRipple.java b/packages/SystemUI/src/com/android/systemui/statusbar/policy/KeyButtonRipple.java
index 57e092a..2579579 100644
--- a/packages/SystemUI/src/com/android/systemui/statusbar/policy/KeyButtonRipple.java
+++ b/packages/SystemUI/src/com/android/systemui/statusbar/policy/KeyButtonRipple.java
@@ -65,16 +65,19 @@ public class KeyButtonRipple extends Drawable {
     private final HashSet<Animator> mRunningAnimations = new HashSet<>();
     private final ArrayList<Animator> mTmpArray = new ArrayList<>();
 
+    private int mRippleColor;
+
     public KeyButtonRipple(Context ctx, View targetView) {
         mMaxWidth =  ctx.getResources().getDimensionPixelSize(R.dimen.key_button_ripple_max_width);
         mTargetView = targetView;
+        mRippleColor = ctx.getResources().getColor(R.color.navbutton_ripple_color);
     }
 
     private Paint getRipplePaint() {
         if (mRipplePaint == null) {
             mRipplePaint = new Paint();
             mRipplePaint.setAntiAlias(true);
-            mRipplePaint.setColor(0xffffffff);
+            mRipplePaint.setColor(mRippleColor);
         }
         return mRipplePaint;
     }
-- 
2.10.2

